# CathShield.ai - System Architecture & Diagrams

## ğŸ—ï¸ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CathShield.ai                          â”‚
â”‚              Hospital-Grade Medical Safety System           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FRONTEND (React + Next.js)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   Patient    â”‚  â”‚    Audio     â”‚  â”‚  Workflow    â”‚       â”‚
â”‚  â”‚   Identity   â”‚  â”‚   Consent    â”‚  â”‚   Upload     â”‚       â”‚
â”‚  â”‚   Screen     â”‚  â”‚   Module     â”‚  â”‚   (12-hour)  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   Patient    â”‚  â”‚   Clinical   â”‚  â”‚     Ward     â”‚       â”‚
â”‚  â”‚  Dashboard   â”‚  â”‚    Alerts    â”‚  â”‚  Analytics   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†• REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BACKEND (Node.js/Next.js)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              API Routes (14 endpoints)                  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ â€¢ /api/patients          â€¢ /api/alerts                 â”‚ â”‚
â”‚  â”‚ â€¢ /api/consent           â€¢ /api/events                 â”‚ â”‚
â”‚  â”‚ â€¢ /api/images            â€¢ /api/ward-analytics         â”‚ â”‚
â”‚  â”‚ â€¢ /api/risk-score        â€¢ /api/resource-deprivation   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Risk Engine & Algorithms                  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ â€¢ CLISA Score (0-7)                                    â”‚ â”‚
â”‚  â”‚ â€¢ Predictive CLABSI Score (0-10)                       â”‚ â”‚
â”‚  â”‚ â€¢ Venous Resistance Band (G/Y/R)                       â”‚ â”‚
â”‚  â”‚ â€¢ CVL-RCRI Protocol Actions                            â”‚ â”‚
â”‚  â”‚ â€¢ Deprivation Rate Calculation                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†• SQL
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATABASE (PostgreSQL)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  patients    â”‚  â”‚  consent_    â”‚  â”‚   image_     â”‚       â”‚
â”‚  â”‚              â”‚  â”‚  records     â”‚  â”‚  captures    â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  risk_       â”‚  â”‚  clinical_   â”‚  â”‚   event_     â”‚       â”‚
â”‚  â”‚  scores      â”‚  â”‚  alerts      â”‚  â”‚   logs       â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚  â”‚    ward_     â”‚  â”‚  resource_   â”‚                         â”‚
â”‚  â”‚  analytics   â”‚  â”‚ deprivation  â”‚                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Patient Risk Workflow

```
START
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PATIENT IDENTIFICATION      â”‚
â”‚  â€¢ Bed No., Initials, Date   â”‚
â”‚  â€¢ Risk Factors (10 items)   â”‚
â”‚  â€¢ Safety Checklist (4 items)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AUDIO CONSENT               â”‚
â”‚  â€¢ Play English Consent      â”‚
â”‚  â€¢ Playback Must Complete    â”‚
â”‚  â€¢ Confirm Consent Checkbox  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  12-HOURLY IMAGE UPLOAD      â”‚
â”‚  â€¢ Catheter Site (required)  â”‚
â”‚  â€¢ Traction Device (optional)â”‚
â”‚  â€¢ Pull Counts (if no photo) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  RISK CALCULATION            â”‚
â”‚  â†™ â†“ â†–                        â”‚
â”‚ A  B  C  D                   â”‚
â”‚ Dressing + Traction +        â”‚
â”‚ Factors + Dwell Time         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
  â”œâ”€â†’ Score 0-3  â†’ ğŸŸ¢ GREEN   â†’ Q24h flush
  â”œâ”€â†’ Score 4-6  â†’ ğŸŸ¡ YELLOW  â†’ Q12h + MO
  â”œâ”€â†’ Score 7-9  â†’ ğŸŸ  ORANGE  â†’ Q8h + US
  â””â”€â†’ Score 10   â†’ ğŸ”´ RED     â†’ Stop + Emergency
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DASHBOARD DISPLAY           â”‚
â”‚  â€¢ Risk badges (G/Y/O/R)     â”‚
â”‚  â€¢ Trend plot (12-hourly)    â”‚
â”‚  â€¢ Clinical alerts           â”‚
â”‚  â€¢ Nurse actions (highlighted)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WARD-LEVEL MONITORING       â”‚
â”‚  â€¢ CLABSI rate tracking      â”‚
â”‚  â€¢ Resource deprivation      â”‚
â”‚  â€¢ Supply alerts (>30%)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
(Loop: Next 12-hour cycle)
```

---

## ğŸ§  Risk Calculation Flow

```
RISK CALCULATION ENGINE
â””â”€ Input: Patient data + Images + Events
   â”œâ”€ DOMAIN A: CLISA + Dressing (0-4)
   â”‚  â”œâ”€ Dressing Integrity: 0-4 (from image)
   â”‚  â””â”€ Penalty: +1 if no recent change
   â”‚
   â”œâ”€ DOMAIN B: Traction Risk (0-3)
   â”‚  â”œâ”€ Yellow Pulls: 0-1 points
   â”‚  â”œâ”€ Escalating: 2+ pulls, 5+ pulls, 1+ red
   â”‚  â””â”€ Red Pull: = 3 (max)
   â”‚
   â”œâ”€ DOMAIN C: Patient Factors (0-3)
   â”‚  â”œâ”€ 3-4 factors: 1 point
   â”‚  â”œâ”€ 5-6 factors: 2 points
   â”‚  â””â”€ 7+ factors: 3 points
   â”‚
   â””â”€ DOMAIN D: Dwell Time (0-1)
      â””â”€ +1 if catheter >9 days
      
   FINAL SCORING
   â”œâ”€ CLISA Score = A + B (0-7)
   â”œâ”€ Predictive CLABSI = A + B + C + D (0-10)
   â”œâ”€ Bonus: -1 if all safety checklists pass
   â””â”€ Venous Resistance = B + (Dwell>7 days ? 1 : 0)
   
   OUTPUT
   â”œâ”€ CLABSI Band: Green/Yellow/Orange/Red
   â”œâ”€ VR Band: Green/Yellow/Red
   â”œâ”€ Recommended Action (CVL-RCRI)
   â””â”€ Alert Trigger (if Y or R)
```

---

## ğŸš¨ Alert Generation Logic

```
CLINICAL ALERTS TRIGGER CONDITIONS

IF Predictive CLABSI Band = Yellow OR Red
   â†“ Generate Alert
   â”œâ”€ Reason: "Predictive CLABSI Risk = [Band]"
   â”œâ”€ Severity: [Band]
   â””â”€ Action: From CVL-RCRI protocol

IF Predictive VR Band = Yellow OR Red
   â†“ Generate Alert
   â”œâ”€ Reason: "Venous Resistance Risk = [Band]"
   â”œâ”€ Severity: [Band]
   â””â”€ Action: "Assess traction setup"

IF Traction Cluster (â‰¥2 Red pulls in 1 hour)
   â†“ Generate Alert
   â”œâ”€ Reason: "Traction Cluster Detected"
   â”œâ”€ Severity: Red
   â””â”€ Action: "Check traction mechanism immediately"

IF Dressing Failure (via image analysis)
   â†“ Generate Alert
   â”œâ”€ Reason: "Dressing Integrity Compromised"
   â”œâ”€ Severity: Orange/Red
   â””â”€ Action: "Change dressing immediately"

DISPLAY
â”œâ”€ Alert Cards (color-coded)
â”œâ”€ Timestamp
â”œâ”€ Acknowledge button
â””â”€ Track acknowledgment time
```

---

## ğŸ“Š Ward Analytics Pipeline

```
WARD DATA AGGREGATION
â””â”€ Daily at 00:00 UTC
   â”œâ”€ Count CLABSI cases
   â”œâ”€ Count CVL days
   â”œâ”€ Count dressing changes
   â”œâ”€ Count catheter changes
   â”‚
   â””â”€ CALCULATE
      â”œâ”€ Rate = (Cases Ã— 1000) / CVL days
      â”œâ”€ % Change = (Old - New) / Old Ã— 100
      â””â”€ Trends = Last 30 days

DISPLAY
â”œâ”€ Line chart (CLABSI rate over time)
â”œâ”€ Statistics badges
â”‚  â”œâ”€ Latest rate
â”‚  â”œâ”€ Total CVL days
â”‚  â”œâ”€ CLABSI cases
â”‚  â””â”€ % reduction badge
â”‚
â””â”€ Actionable insights
   â”œâ”€ Trend analysis
   â”œâ”€ Benchmark comparison
   â””â”€ Alert if rate increasing >5%
```

---

## ğŸ¥ Resource Deprivation Flow

```
RESOURCE DEPRIVATION MONITORING
â””â”€ Input daily:
   â”œâ”€ P = Patients needing catheter/dressing
   â”œâ”€ D = Available dressings
   â””â”€ C = Available catheters

CALCULATION
â”œâ”€ Dressing Deprivation Rate (DDR)
â”‚  â””â”€ = (P - D) / P Ã— 100  if D < P else 0
â”‚
â”œâ”€ Catheter Deprivation Rate (CDR)
â”‚  â””â”€ = (P - C) / P Ã— 100  if C < P else 0
â”‚
â””â”€ Combined Rate = (DDR + CDR) / 2

BANDS & ACTIONS
â”œâ”€ 0-10%    â†’ ğŸŸ¢ Safe
â”œâ”€ 11-30%   â†’ ğŸŸ¡ Shortage (âš ï¸ Alert)
â”œâ”€ 31-60%   â†’ ğŸŸ  Major Shortage (âš ï¸ Alert)
â””â”€ >60%     â†’ ğŸ”´ Critical (ğŸš¨ Emergency)

AUTO-ALERT
â””â”€ IF Combined Rate > 30%
   â”œâ”€ Trigger Supply Alert
   â”œâ”€ Notify supply officer
   â”œâ”€ Log timestamp
   â””â”€ Highlight on dashboard
```

---

## ğŸ—„ï¸ Database Entity Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    PATIENTS     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚
â”‚ bed_no          â”‚
â”‚ initials        â”‚
â”‚ insertion_date  â”‚
â”‚ created_at      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â†’ CONSENT_RECORDS (1:1)
         â”‚   â”œâ”€ audio_played
         â”‚   â”œâ”€ playback_finished_timestamp
         â”‚   â””â”€ consent_obtained
         â”‚
         â”œâ”€â†’ IMAGE_CAPTURES (1:âˆ)
         â”‚   â”œâ”€ cathetersite_url
         â”‚   â”œâ”€ traction_device_url
         â”‚   â”œâ”€ yellow_pulls
         â”‚   â””â”€ red_pulls
         â”‚
         â”œâ”€â†’ RISK_SCORES (1:âˆ)
         â”‚   â”œâ”€ clisa_score
         â”‚   â”œâ”€ predictive_clabsi_score
         â”‚   â”œâ”€ predictive_clabsi_band
         â”‚   â”œâ”€ predictive_venous_resistance_band
         â”‚   â””â”€ recommended_action
         â”‚
         â”œâ”€â†’ CLINICAL_ALERTS (1:âˆ)
         â”‚   â”œâ”€ reason
         â”‚   â”œâ”€ severity
         â”‚   â”œâ”€ recommended_action
         â”‚   â””â”€ acknowledged
         â”‚
         â””â”€â†’ EVENT_LOGS (1:âˆ)
             â”œâ”€ event_type
             â”‚  â”œâ”€ dressing_change
             â”‚  â”œâ”€ catheter_change
             â”‚  â””â”€ flushing

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WARD_ANALYTICS â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ward_id (PK)    â”‚
â”‚ date (PK)       â”‚
â”‚ clabsi_cases    â”‚
â”‚ clabsi_rate     â”‚
â”‚ ...             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RESOURCE_DEPRIVATION    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)                 â”‚
â”‚ ward_id (FK)            â”‚
â”‚ deprivation_band        â”‚
â”‚ alert_triggered         â”‚
â”‚ computed_at             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Key Calculations at a Glance

### Risk Scores
```
CLISA Score = Dressing (0-4) + Traction (0-3) = 0-7

Predictive CLABSI = 
  Dressing (0-4) +
  Traction (0-3) +
  Systemic Factors (0-3) +
  Dwell Time (0-1) -
  Checklist Bonus (0-1) = 0-10

Venous Resistance = Traction (0-3) + Dwell (0-1) = 0-4
```

### Deprivation Rate
```
DDR = (P - D) / P Ã— 100    [if D < P else 0]
CDR = (P - C) / P Ã— 100    [if C < P else 0]
Combined = (DDR + CDR) / 2
```

### CLABSI Rate
```
Rate = (Cases Ã— 1000) / CVL Days
```

---

## ğŸ“± Page Navigation Map

```
â”Œâ”€ Home (/) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Patient Identification  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â†’ Next â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
        â”Œâ”€â”€â†“â”€â”€â”
        â”‚     â”‚
    â”Œâ”€â”€â”€â†“â”€â”€â”€â” â”‚
    â”‚Consent â”‚â†â”€â”˜
    â””â”€â”€â”€â”¬â”€â”€â”€â”˜
        â”‚
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Workflow â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Dashboard â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Analytics â†â”€â”€â”¤
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**These diagrams provide visual understanding of CathShield.ai system architecture, data flow, and key calculations.**
